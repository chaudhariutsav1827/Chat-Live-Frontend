<div #messageBox class="h-[calc(100vh-140px)] overflow-auto bg-indigo-100 flex flex-col gap-3">
  @for(messageGroup of groupedMessage; track messageGroup) {
  <div class="w-full flex justify-center">
    <span class="px-2 rounded-xl bg-gray-300">{{ messageGroup.dateTag }}</span>
  </div>
  @for (message of messageGroup.messages; track message) {
  <div class="p-3 flex gap-2" [class.flex-row-reverse]="message.from !== currentChatUser._id">
    <span class="h-full flex flex-col gap-1 items-center justify-center">
      <span class="h-[30px] w-[30px] rounded-full bg-orange-500 text-gray-100 flex items-center justify-center">
        {{ message.from === currentChatUser._id ? currentChatUser.name.charAt(0) : loggedUser.name.charAt(0) }}
      </span>
      <span class="text-xs text-gray-500">{{ message.createdAt.split(" ")[1] }}</span>
    </span>
    <span class="max-w-xl flex p-3 text-sm rounded-md font-normal bg-gray-100">{{ message.message }}</span>
  </div>
  } }
</div>
